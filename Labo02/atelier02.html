<!DOCTYPE html>
<html class="js-focus-visible js" lang="fr" data-js-focus-visible=""><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta content="width=device-width,initial-scale=1" name="viewport">
<link href="https://inf2050.uqam.ca/fr/atelier02.html" rel="canonical">
<link href="https://inf2050.uqam.ca/fr/introduction.html" rel="prev">
<link href="https://inf2050.uqam.ca/fr/0tp.html" rel="next">
<link href="https://inf2050.uqam.ca/fr/assets/favicon-32.png" rel="icon">
<meta content="mkdocs-1.6.0, mkdocs-material-9.5.31" name="generator">
<!--Support for native app on iOS devices-->
<meta content="yes" name="apple-mobile-web-app-capable">
<meta content="viewport-fit=cover, width=device-width, user-scalable=no, maximum-scale=1, minimum-scale=1" name="viewport">
<link href="https://inf2050.uqam.ca/fr/assets/images/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="https://inf2050.uqam.ca/fr/assets/images/favicon-32.png" rel="icon" sizes="32x32" type="image/png">
<link href="https://inf2050.uqam.ca/fr/assets/images/favicon-16.png" rel="icon" sizes="16x16" type="image/png">
<link crossorigin="use-credentials" href="https://inf2050.uqam.ca/manifest.json" rel="manifest">
<meta content="INF-2050" name="apple-mobile-web-app-title">
<!--<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>-->
<meta charset="utf-8">
<link href="atelier02_files/main.3cba04c6.min.css" rel="stylesheet">
<link href="atelier02_files/palette.06af60db.min.css" rel="stylesheet">
<link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect">
<link href="atelier02_files/css.css" rel="stylesheet">
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="atelier02_files/extra.css" rel="stylesheet">
<script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="blue" data-md-color-primary="indigo" data-md-color-scheme="blinded" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox">
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox">
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#atelier-02">
          Aller au contenu
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="En-tête" class="md-header__inner md-grid">
<a aria-label="INF2050" class="md-header__button md-logo" data-md-component="logo" href="https://inf2050.uqam.ca/fr/index.html" title="INF2050">
<img alt="logo" src="atelier02_files/logo.png">
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            INF2050
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Atelier 02
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Rechercher" autocapitalize="none" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Rechercher" required="" spellcheck="false" type="text">
<label class="md-search__icon md-icon" for="__search">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Recherche" class="md-search__options">
<button aria-label="Effacer" class="md-search__icon md-icon" tabindex="-1" title="Effacer" type="reset">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">Taper pour démarrer la recherche</div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" style="top: 48px;">
<div class="md-sidebar__scrollwrap" style="height: 1434px;">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="INF2050" class="md-nav__button md-logo" data-md-component="logo" href="https://inf2050.uqam.ca/fr/index.html" title="INF2050">
<img alt="logo" src="atelier02_files/logo.png">
</a>
    INF2050
  </label>
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="https://inf2050.uqam.ca/fr/index.html">
<span class="md-ellipsis">
    Bienvenue
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://inf2050.uqam.ca/fr/atelier01.html">
<span class="md-ellipsis">
    Atelier 01
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://inf2050.uqam.ca/fr/introduction.html">
<span class="md-ellipsis">
    Les élements de style
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox">
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Atelier 02
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="https://inf2050.uqam.ca/fr/atelier02.html">
<span class="md-ellipsis">
    Atelier 02
  </span>
</a>
<nav aria-label="Table des matières" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
<ul class="md-nav__list" data-md-component="toc">
<li class="md-nav__item">
<a class="md-nav__link" href="#interfaces">
<span class="md-ellipsis">
      Interfaces
    </span>
</a>
<nav aria-label="Interfaces" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#tache-1-pommes-de-terre">
<span class="md-ellipsis">
      Tâche 1, Pommes de terre
    </span>
</a>
<nav aria-label="Tâche 1, Pommes de terre" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#a-vous-de-jouer">
<span class="md-ellipsis">
      À vous de jouer
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tache-2-plantes-carnivores">
<span class="md-ellipsis">
      Tâche 2, Plantes Carnivores
    </span>
</a>
<nav aria-label="Tâche 2, Plantes Carnivores" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#a-vous-de-jouer_1">
<span class="md-ellipsis">
      À vous de jouer
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#polymorphisme">
<span class="md-ellipsis">
      Polymorphisme
    </span>
</a>
<nav aria-label="Polymorphisme" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#tache-3-mouches">
<span class="md-ellipsis">
      Tâche 3, Mouches
    </span>
</a>
<nav aria-label="Tâche 3, Mouches" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#a-vous-de-jouer_2">
<span class="md-ellipsis">
      À vous de jouer
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solution">
<span class="md-ellipsis">
      Solution
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://inf2050.uqam.ca/fr/0tp.html">
<span class="md-ellipsis">
    TP 00
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://inf2050.uqam.ca/fr/vcs-1.html">
<span class="md-ellipsis">
    Contrôle de Version I
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://inf2050.uqam.ca/fr/atelier03.html">
<span class="md-ellipsis">
    Atelier 03
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://inf2050.uqam.ca/fr/1tp.html">
<span class="md-ellipsis">
    TP 01
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://inf2050.uqam.ca/fr/build-systems-1.html">
<span class="md-ellipsis">
    Systèmes de construction I
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://inf2050.uqam.ca/fr/atelier04.html">
<span class="md-ellipsis">
    Atelier 04
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://inf2050.uqam.ca/fr/ides.html">
<span class="md-ellipsis">
    IDEs
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://inf2050.uqam.ca/fr/atelier05.html">
<span class="md-ellipsis">
    Atelier 05
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://inf2050.uqam.ca/fr/testing-1.html">
<span class="md-ellipsis">
    Testing I
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://inf2050.uqam.ca/fr/atelier06.html">
<span class="md-ellipsis">
    Atelier 06
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://inf2050.uqam.ca/fr/2tp.html">
<span class="md-ellipsis">
    TP 02
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://inf2050.uqam.ca/fr/vcs-2.html">
<span class="md-ellipsis">
    Contrôle de Version II
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://inf2050.uqam.ca/fr/atelier07.html">
<span class="md-ellipsis">
    Atelier 07
  </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" style="top: 48px;">
<div class="md-sidebar__scrollwrap" style="height: 1434px;">
<div class="md-sidebar__inner">
<nav aria-label="Table des matières" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
<ul class="md-nav__list" data-md-component="toc">
<li class="md-nav__item">
<a class="md-nav__link" href="#interfaces">
<span class="md-ellipsis">
      Interfaces
    </span>
</a>
<nav aria-label="Interfaces" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#tache-1-pommes-de-terre">
<span class="md-ellipsis">
      Tâche 1, Pommes de terre
    </span>
</a>
<nav aria-label="Tâche 1, Pommes de terre" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#a-vous-de-jouer">
<span class="md-ellipsis">
      À vous de jouer
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tache-2-plantes-carnivores">
<span class="md-ellipsis">
      Tâche 2, Plantes Carnivores
    </span>
</a>
<nav aria-label="Tâche 2, Plantes Carnivores" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#a-vous-de-jouer_1">
<span class="md-ellipsis">
      À vous de jouer
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#polymorphisme">
<span class="md-ellipsis">
      Polymorphisme
    </span>
</a>
<nav aria-label="Polymorphisme" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#tache-3-mouches">
<span class="md-ellipsis">
      Tâche 3, Mouches
    </span>
</a>
<nav aria-label="Tâche 3, Mouches" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#a-vous-de-jouer_2">
<span class="md-ellipsis">
      À vous de jouer
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solution">
<span class="md-ellipsis">
      Solution
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="atelier-02">Atelier 02</h1>
<p>Dans cette session de laboratoire, vous allez pratiquer les principes
 des interfaces et entraîner votre vigilance face au code non 
maintenable.
Le code avec lequel travailler se trouve <a href="https://gitlab.info.uqam.ca/inf2050/labs/-/tree/main/02/task?ref_type=heads">sur GitLab</a>, vous n'avez besoin que du dossier "plants" et de son contenu.</p>
<h2 id="interfaces">Interfaces</h2>
<p>Lors des cours et du laboratoire précédents, nous avons discuté de 
l'intérêt de coder contre des interfaces, plutôt que des classes.
Dans ce premier bloc d'exercices, vous allez travailler avec une 
hiérarchie d'interfaces : <em>Plantes</em> et <em>Plantes Carnivores</em>. Vous allez donc travailler avec deux interfaces :</p>
<ul>
<li><code>Plant</code>, en tant qu'interface pour définir les fonctions classiques de toutes les plantes :<ul>
<li>Photosynthèse ("consommation" de lumière)</li>
<li>Boire ("consommation" d'eau)</li>
</ul>
</li>
<li><code>CarnivorousPlant</code>, en tant qu'interface pour ajouter des fonctions supplémentaires à <em>certaines</em> plantes :<ul>
<li>Manger une mouche : Les plantes carnivores ne se contentent pas de 
faire la photosynthèse et de consommer de l'eau, elles attirent 
également des mouches délicieuses et digèrent leurs corps pour obtenir 
des nutriments supplémentaires.</li>
</ul>
</li>
</ul>
<p>Nous pouvons capturer avec précision cette hiérarchie de plantes avec deux interfaces :</p>
<div class="mermaid"></div>
<blockquote>
<p>Caption : deux rectangles représentation des interfaces (Plant, CarnivorousPlant), avec une relation "extends" entre eux.</p>
</blockquote>
<details class="question">
<summary>Comment lire ce diagramme ?</summary>
<p>Il y a deux interfaces : <code>Plant</code> et <code>CarnivorousPlant</code>. Les interfaces forment une hiérarchie, c'est-à-dire que les <code>CarnivorousPlant</code> héritent de tout le comportement des <code>Plant</code>
 régulières. Les interfaces elles-mêmes ne fournissent aucune logique, 
elles définissent seulement quelles fonctions les classes implémentantes
 doivent fournir. Les hiérarchies d'interfaces sont additives, ce qui 
signifie que toute classe concrète qui implémente uniquement <code>Plant</code> n'a besoin que des deux méthodes supérieures, mais toute classe qui implémente <code>CarnivorousPlant</code> nécessite que les trois méthodes soient implémentées.</p>
</details>
<h3 id="tache-1-pommes-de-terre">Tâche 1, Pommes de terre</h3>
<p>Votre première tâche est de télécharger et d'extraire le code fourni. Vous trouverez également une classe <code>Main</code>, avec l'implémentation par défaut suivante :</p>
<div class="highlight"><pre><span></span><code tabindex="0"><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="w"> </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="w">  </span><span class="c1">// Create a plant and a carnivorous plant instance.</span>
<a href="#__codelineno-0-3" id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="w">  </span><span class="n">Plant</span><span class="w"> </span><span class="n">normalPlant</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Potato</span><span class="p">();</span><span class="w"> </span><span class="c1">// TODO: create a new class "Potato" that is a plant, but not a carnivorousPlant.</span>
<a href="#__codelineno-0-4" id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="w">  </span><span class="c1">// CarnivorousPlant carnivorousPlant = new PitcherPlant();</span>
<a href="#__codelineno-0-5" id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="w">  </span><span class="c1">// Let both do some photosynthesis:</span>
<a href="#__codelineno-0-6" id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="w">  </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"Doing photosynthesis:"</span><span class="p">);</span>
<a href="#__codelineno-0-7" id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="w">  </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">normalPlant</span><span class="p">.</span><span class="na">doPhotoSynthesis</span><span class="p">());</span>
<a href="#__codelineno-0-8" id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="w">  </span><span class="c1">// System.out.println(carnivorousPlant.doPhotoSynthesis());</span>
<a href="#__codelineno-0-9" id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="w">  </span><span class="c1">// Let both enjoy a sip of water</span>
<a href="#__codelineno-0-10" id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="w">  </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"Serving water:"</span><span class="p">);</span>
<a href="#__codelineno-0-11" id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="w">  </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">normalPlant</span><span class="p">.</span><span class="na">drinkWater</span><span class="p">());</span>
<a href="#__codelineno-0-12" id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="w">  </span><span class="c1">// ...</span>
<a href="#__codelineno-0-13" id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="p">}</span>
</code></pre></div>
<p>Le code fourni ne se compilera pas, car la méthode <code>main</code> utilise une nouvelle classe : <code>Potato</code>.</p>
<p><img src="atelier02_files/Patates.jpg" style="display: block; margin-left: auto; margin-right: auto;" width="30%"></p>
<blockquote>
<p>Légende des pommes de terre. Délicieuses, mais ce ne sont pas des plantes carnivores. Crédits de l'image : <a href="https://en.wikipedia.org/wiki/Potato">Wikipedia</a></p>
</blockquote>
<h4 id="a-vous-de-jouer">À vous de jouer</h4>
<ul>
<li>Écrivez une classe <code>Potato</code> qui <code>implémente</code> uniquement l'interface <code>Plant</code> fournie.</li>
<li>Fournissez des implémentations pour les deux méthodes requises, mais ne modifiez pas les interfaces.<ul>
<li>Faites en sorte que <code>doPhotoSynthesis()</code> retourne la chaîne : <code>"Oh, sunbeams. I love warm sunbeams!"</code></li>
<li>Faites en sorte que <code>drinkWater()</code> retourne la chaîne : <code>"Slurp... aah!""</code>
<div class="mermaid"></div></li>
</ul>
</li>
</ul>
<p>Compilez et exécutez votre code en utilisant uniquement les arguments de ligne de commande <code>javac</code> et <code>java</code>. Vérifiez que le code se compile correctement et imprime le texte suivant :</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a>Doing photosynthesis:
<a href="#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a>Oh, sunbeams. I love warm sunbeams!
<a href="#__codelineno-1-3" id="__codelineno-1-3" name="__codelineno-1-3"></a>Serving water:
<a href="#__codelineno-1-4" id="__codelineno-1-4" name="__codelineno-1-4"></a>Slurp... aah!
</code></pre></div>
<h3 id="tache-2-plantes-carnivores">Tâche 2, Plantes Carnivores</h3>
<p>Jusqu'à présent, vous avez seulement utilisé l'interface de niveau supérieur.</p>
<ul>
<li>Lors du dernier cours, nous avons brièvement vu le concept de plusieurs interfaces.</li>
<li>Dans l'exemple ci-dessus, <code>CarnivorousPlant</code> étend l'interface <code>Plant</code> ordinaire, ce qui fait que les classes implémentant <code>CarnivorousPlant</code> doivent fournir des implémentations pour les deux interfaces combinées.</li>
<li>Un exemple est <a href="https://en.wikipedia.org/wiki/Pitcher_plant">les plantes carnivores</a><ul>
<li>Les plantes carnivores, comme toutes les autres plantes, font de la 
photosynthèse. Elles doivent fournir une implémentation pour <code>doPhotosynthesis()</code>.</li>
<li>Les plantes carnivores, comme toutes les autres plantes, ont besoin d'eau. Elles doivent fournir une implémentation pour <code>drinkWater()</code>.</li>
<li>Les plantes carnivores, contrairement aux autres plantes, attirent 
et mangent des mouches. Elles doivent fournir une implémentation 
supplémentaire pour <code>eatFly()</code>.</li>
</ul>
</li>
</ul>
<p><img src="atelier02_files/Nepenthes_muluensis.jpg" style="display: block; margin-left: auto; margin-right: auto;" width="30%"></p>
<blockquote>
<p>Légende des plantes carnivores. Elles sentent délicieusement bon, si vous êtes une mouche. Crédits de l'image : <a href="https://en.wikipedia.org/wiki/Pitcher_plant">Wikipedia</a></p>
</blockquote>
<h4 id="a-vous-de-jouer_1">À vous de jouer</h4>
<ul>
<li>Écrivez une nouvelle classe <code>PitcherPlant</code>, qui implémente <strong>uniquement</strong> l'interface <code>CarnivorousPlant</code>.
  <div class="mermaid"></div></li>
<li>Assurez-vous que la classe fournit toutes les méthodes requises.<ul>
<li>Faites en sorte que les méthodes de plante standard retournent des chaînes légèrement modifiées :<ul>
<li><code>"Oh, sunbeams. I like sunbeams, but I like flies even more."</code></li>
<li><code>"Slurp... good water, but could use some extra nutrients."</code></li>
</ul>
</li>
<li>Faites en sorte que la nouvelle méthode retourne une chaîne : "<code>Miam, une mouche !</code>"</li>
</ul>
</li>
<li>Décommentez les lignes désactivées dans la classe <code>Main</code> fournie, afin que la méthode <code>main</code> ressemble à ceci :</li>
</ul>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="w"> </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="w">  </span><span class="c1">// Create a plant and a carnivorous plant instance.</span>
<a href="#__codelineno-2-3" id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="w">  </span><span class="n">Plant</span><span class="w"> </span><span class="n">normalPlant</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Potato</span><span class="p">();</span>
<a href="#__codelineno-2-4" id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="w">  </span><span class="n">CarnivorousPlant</span><span class="w"> </span><span class="n">carnivorousPlant</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PitcherPlant</span><span class="p">();</span>
<a href="#__codelineno-2-5" id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="w">  </span><span class="c1">// Let both do some photosynthesis:</span>
<a href="#__codelineno-2-6" id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="w">  </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"Doing photosynthesis:"</span><span class="p">);</span>
<a href="#__codelineno-2-7" id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="w">  </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">normalPlant</span><span class="p">.</span><span class="na">doPhotoSynthesis</span><span class="p">());</span>
<a href="#__codelineno-2-8" id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="w">  </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">carnivorousPlant</span><span class="p">.</span><span class="na">doPhotoSynthesis</span><span class="p">());</span>
<a href="#__codelineno-2-9" id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="w">  </span><span class="c1">// Let both enjoy a sip of water</span>
<a href="#__codelineno-2-10" id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="w">  </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"Serving water:"</span><span class="p">);</span>
<a href="#__codelineno-2-11" id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="w">  </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">normalPlant</span><span class="p">.</span><span class="na">drinkWater</span><span class="p">());</span>
<a href="#__codelineno-2-12" id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="w">  </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">carnivorousPlant</span><span class="p">.</span><span class="na">drinkWater</span><span class="p">());</span>
<a href="#__codelineno-2-13" id="__codelineno-2-13" name="__codelineno-2-13"></a><span class="w">  </span><span class="c1">// On top of that, let the carnivorous plant eat a fly</span>
<a href="#__codelineno-2-14" id="__codelineno-2-14" name="__codelineno-2-14"></a><span class="w">  </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"Feeding flies:"</span><span class="p">);</span>
<a href="#__codelineno-2-15" id="__codelineno-2-15" name="__codelineno-2-15"></a><span class="w">  </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">carnivorousPlant</span><span class="p">.</span><span class="na">eatFly</span><span class="p">());</span>
<a href="#__codelineno-2-16" id="__codelineno-2-16" name="__codelineno-2-16"></a><span class="w">  </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">carnivorousPlant</span><span class="p">.</span><span class="na">eatFly</span><span class="p">());</span>
</code></pre></div>
<p>Assurez-vous que le code se compile correctement et imprime le texte suivant :</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a>Doing photosynthesis:
<a href="#__codelineno-3-2" id="__codelineno-3-2" name="__codelineno-3-2"></a>Oh, sunbeams. I love warm sunbeams!
<a href="#__codelineno-3-3" id="__codelineno-3-3" name="__codelineno-3-3"></a>Oh, sunbeams. I like sunbeams, but I like flies even more.
<a href="#__codelineno-3-4" id="__codelineno-3-4" name="__codelineno-3-4"></a>Serving water:
<a href="#__codelineno-3-5" id="__codelineno-3-5" name="__codelineno-3-5"></a>Slurp... aah!
<a href="#__codelineno-3-6" id="__codelineno-3-6" name="__codelineno-3-6"></a>Slurp... good water, but could use some extra nutrients.
<a href="#__codelineno-3-7" id="__codelineno-3-7" name="__codelineno-3-7"></a>Feeding flies:
<a href="#__codelineno-3-8" id="__codelineno-3-8" name="__codelineno-3-8"></a>Yummy, a fly!
<a href="#__codelineno-3-9" id="__codelineno-3-9" name="__codelineno-3-9"></a>Yummy, a fly!
</code></pre></div>
<h2 id="polymorphisme">Polymorphisme</h2>
<p>Remarquez comment les sorties imprimées ont changé entre les pommes 
de terre et les plantes carnivores, bien que nous ayons appelé les mêmes
 méthodes : <code>doPhotosynthesis()</code> et <code>drinkWater()</code>
 ? Ce concept s'appelle le polymorphisme. Nous délégons un appel de 
fonction à une classe, sans nous soucier de la manière dont elle est 
implémentée. Différents objets implémentant la même interface peuvent 
avoir des comportements différents, et nous les laissons gérer leur 
réaction eux-mêmes. Ce concept est appelé <em>Polymorphisme</em>.</p>
<div class="admonition tip">
<p class="admonition-title">Utilisez le polymorphisme pour garder votre code propre</p>
<p>Le polymorphisme est un concept clé qui vous permet d'éliminer de 
manière pratique le code trop compliqué, notamment les instructions <code>if</code> obsolètes.</p>
</div>
<h3 id="tache-3-mouches">Tâche 3, Mouches</h3>
<p>Un exemple de code trop compliqué concerne nos plantes qui mangent des mouches. Considérez le changement suivant :</p>
<ul>
<li>Il y a une interface supplémentaire <code>Fly</code><ul>
<li><code>getName(): String</code> retourne le nom de la classe implémentante.</li>
<li><code>makeAnnoyingSound(): String</code> retourne une représentation en chaîne du son produit par l'insecte en vol.</li>
</ul>
</li>
<li>Il y a deux classes implémentant <code>Fly</code><ul>
<li><code>FruitFly</code> : <a href="https://en.wikipedia.org/wiki/Drosophila_melanogaster">Est petite, produit un son aigu ennuyeux</a>. <code>makeAnnoyingSound()</code> retourne "<code>Bziiiiiiiiiiiiiiiii</code>".</li>
<li><code>HoverFly</code> : <a href="https://en.wikipedia.org/wiki/Hoverfly">Est plus grande, produit des bourdonnements de son ennuyeux</a>. <code>makeAnnoyingSound()</code> retourne "<code>Bzuuuuuuuuuuuuu Bzz Bzz Bzuuuuuu</code>".</li>
</ul>
</li>
</ul>
<p>Le diagramme ci-dessous illustre ces interfaces et classes supplémentaires :</p>
<div class="mermaid"></div>
<p>De plus, considérez une interface <code>CarnivorousPlant</code> modifiée et une implémentation, de sorte que notre <code>PitcherPlant</code> fournisse une imitation réaliste de la capture de la mouche en vol et de la récolte de ses nutriments.</p>
<div class="highlight"><pre><span></span><code tabindex="0"><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="c1">// Modified: now takes a Fly object as argument</span>
<a href="#__codelineno-4-2" id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="nd">@Override</span>
<a href="#__codelineno-4-3" id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">eatFly</span><span class="p">(</span><span class="n">Fly</span><span class="w"> </span><span class="n">fly</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-4-4" id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="w">  </span><span class="c1">// Check which fly it is</span>
<a href="#__codelineno-4-5" id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fly</span><span class="p">.</span><span class="na">getName</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="s">"FruitFly"</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-4-6" id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s">"Bziiiiiiiiiiiiiiiii... CHOMP!!!!   That was delicious! Yummy! Thank you!"</span><span class="p">;</span>
<a href="#__codelineno-4-7" id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-4-8" id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s">"Bzuuuuuuuuuuuuu Bzz Bzz Bzuuuuuu... CHOMP!!!!   That was delicious! Yummy! Thank you!"</span><span class="p">;</span>
<a href="#__codelineno-4-9" id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="w">  </span><span class="p">}</span>
<a href="#__codelineno-4-10" id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="p">}</span>
</code></pre></div>
<p>Nous pouvons maintenant nourrir des mouches à notre plante (dans <code>Main</code>) :</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="w">    </span><span class="c1">// Let the carnivorous plant eat two types of flies</span>
<a href="#__codelineno-5-2" id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="w">    </span><span class="n">Fly</span><span class="w"> </span><span class="n">fly1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FruitFly</span><span class="p">();</span>
<a href="#__codelineno-5-3" id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="w">    </span><span class="n">Fly</span><span class="w"> </span><span class="n">fly2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HoverFly</span><span class="p">();</span><span class="w"> </span>
<a href="#__codelineno-5-4" id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"Feeding flies:"</span><span class="p">);</span>
<a href="#__codelineno-5-5" id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">carnivorousPlant</span><span class="p">.</span><span class="na">eatFly</span><span class="p">(</span><span class="n">fly1</span><span class="p">));</span>
<a href="#__codelineno-5-6" id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">carnivorousPlant</span><span class="p">.</span><span class="na">eatFly</span><span class="p">(</span><span class="n">fly2</span><span class="p">));</span>
</code></pre></div>
<p>Ce qui nous donnera :</p>
<div class="highlight"><pre><span></span><code tabindex="0"><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a>    Feeding flies:
<a href="#__codelineno-6-2" id="__codelineno-6-2" name="__codelineno-6-2"></a>    Bziiiiiiiiiiiiiiiii... CHOMP!!!!   That was delicious! Yummy! Thank you!
<a href="#__codelineno-6-3" id="__codelineno-6-3" name="__codelineno-6-3"></a>    Bzuuuuuuuuuuuuu Bzz Bzz Bzuuuuuu... CHOMP!!!!   That was delicious! Yummy! Thank you!
</code></pre></div>
<h4 id="a-vous-de-jouer_2">À vous de jouer</h4>
<details class="question">
<summary>Pourquoi le code, tel qu'il est actuellement implémenté dans <code>PitcherPlant</code>, est-il problématique ?</summary>
<p><code>PitcherPlant</code> contient une instruction <code>if</code> qui vérifie des implémentations spécifiques de <code>Fly</code>.
 Chaque fois qu'une nouvelle classe de mouche est ajoutée, il faudrait 
modifier le code. Nous pourrions facilement nous retrouver avec une 
longue liste de vérifications <code>if/else</code> pour différents types de mouches.</p>
</details>
<ul>
<li>Modifiez le code fourni comme décrit ci-dessus.<ul>
<li>Ajoutez la nouvelle interface <code>Fly</code>, ainsi que les deux classes qui l'implémentent.</li>
<li>Modifiez l'interface <code>CarnivorousPlant</code> pour que la méthode <code>eatFly(Fly)</code> accepte un objet <code>Fly</code>.</li>
<li>Modifiez la classe <code>PitcherPlant</code> en utilisant les instructions <code>if/else</code> fournies ci-dessus.</li>
</ul>
</li>
<li>Compilez et exécutez le code. Vérifiez que la sortie correcte est imprimée.</li>
<li>Modifiez l'implémentation de la méthode <code>eatFly(Fly)</code> de <code>PitcherPlant</code> afin qu'elle utilise le <strong>Polymorphisme</strong>. Il ne doit y avoir aucune instruction <code>if/else</code> ni appel à <code>getName()</code>.<ul>
<li>Vérifiez que la même sortie est imprimée.</li>
</ul>
</li>
</ul>
<h2 id="solution">Solution</h2>
<p>Solution accessible <a href="https://gitlab.info.uqam.ca/inf2050/labs/-/tree/main/02/solution?ref_type=heads">sur GitLab</a>.</p>
<p>Here is the translation into Canadian French:</p>
<div class="admonition avertissement">
<p class="admonition-title">Ne consultez la solution qu'après avoir fait de votre mieux.</p>
<p>Bien qu'il soit naturel de jeter un coup d'œil à la solution pendant 
que vous résolvez, l'effet d'apprentissage en est considérablement 
réduit. Il est dans votre propre intérêt de tenter sérieusement de 
résoudre les exercices avant de consulter la solution. Si vous vous 
sentez bloqué, n'hésitez pas à demander de l'aide. Les assistants de 
laboratoire se feront un plaisir de vous donner quelques indices.</p>
</div>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<nav aria-label="Pied de page" class="md-footer__inner md-grid">
<a aria-label="Précédent: Les élements de style" class="md-footer__link md-footer__link--prev" href="https://inf2050.uqam.ca/fr/introduction.html">
<div class="md-footer__button md-icon">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</div>
<div class="md-footer__title">
<span class="md-footer__direction">
                Précédent
              </span>
<div class="md-ellipsis">
                Les élements de style
              </div>
</div>
</a>
<a aria-label="Suivant: TP 00" class="md-footer__link md-footer__link--next" href="https://inf2050.uqam.ca/fr/0tp.html">
<div class="md-footer__title">
<span class="md-footer__direction">
                Suivant
              </span>
<div class="md-ellipsis">
                TP 00
              </div>
</div>
<div class="md-footer__button md-icon">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": ".", "features": ["navigation.footer"], "search": "assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}}</script>
<script src="atelier02_files/bundle.fe8b6f2b.min.js"></script>
<script src="atelier02_files/extra.js"></script>

</body></html>