<!DOCTYPE html>
<html lang="fr" class="js-focus-visible js" data-js-focus-visible=""><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://inf2050.uqam.ca/fr/atelier09.html">
      
      
      
      
      <link rel="icon" href="https://inf2050.uqam.ca/fr/assets/favicon-32.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.31">
    
    
<!--Support for native app on iOS devices-->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="viewport" content="viewport-fit=cover, width=device-width, user-scalable=no, maximum-scale=1, minimum-scale=1">
<link rel="apple-touch-icon" sizes="180x180" href="https://inf2050.uqam.ca/fr/assets/images/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://inf2050.uqam.ca/fr/assets/images/favicon-32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://inf2050.uqam.ca/fr/assets/images/favicon-16.png">
<link rel="manifest" href="https://inf2050.uqam.ca/manifest.json" crossorigin="use-credentials">
<meta name="apple-mobile-web-app-title" content="INF-2050">
<!--<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>-->
<meta charset="utf-8">


    
      <link rel="stylesheet" href="atelier09_files/main.3cba04c6.min.css">
      
        
        <link rel="stylesheet" href="atelier09_files/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
        <link rel="stylesheet" href="atelier09_files/css.css">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="atelier09_files/extra.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="blinded" data-md-color-primary="indigo" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#atelier-09" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href="https://inf2050.uqam.ca/fr/index.html" title="INF2050" class="md-header__button md-logo" aria-label="INF2050" data-md-component="logo">
      
  <img src="atelier09_files/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            INF2050
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Atelier 09
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="none" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required="">
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0">
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">Taper pour démarrer la recherche</div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" style="top: 48px;">
                <div class="md-sidebar__scrollwrap" style="height: 618px;">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://inf2050.uqam.ca/fr/index.html" title="INF2050" class="md-nav__button md-logo" aria-label="INF2050" data-md-component="logo">
      
  <img src="atelier09_files/logo.png" alt="logo">

    </a>
    INF2050
  </label>
  
  <ul class="md-nav__list">
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://inf2050.uqam.ca/fr/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bienvenue
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://inf2050.uqam.ca/fr/atelier01.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Atelier 01
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://inf2050.uqam.ca/fr/introduction.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Les élements de style
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://inf2050.uqam.ca/fr/atelier02.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Atelier 02
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://inf2050.uqam.ca/fr/0tp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TP 00
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://inf2050.uqam.ca/fr/vcs-1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contrôle de Version I
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://inf2050.uqam.ca/fr/atelier03.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Atelier 03
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://inf2050.uqam.ca/fr/1tp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TP 01
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://inf2050.uqam.ca/fr/build-systems-1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Systèmes de construction I
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://inf2050.uqam.ca/fr/atelier04.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Atelier 04
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://inf2050.uqam.ca/fr/ides.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IDEs
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://inf2050.uqam.ca/fr/atelier05.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Atelier 05
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://inf2050.uqam.ca/fr/testing-1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing I
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://inf2050.uqam.ca/fr/atelier06.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Atelier 06
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://inf2050.uqam.ca/fr/2tp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TP 02
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://inf2050.uqam.ca/fr/vcs-2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contrôle de Version II
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://inf2050.uqam.ca/fr/atelier07.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Atelier 07
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://inf2050.uqam.ca/fr/linting.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linting
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://inf2050.uqam.ca/fr/atelier08.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Atelier 08
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" style="top: 48px;">
                <div class="md-sidebar__scrollwrap" style="height: 618px;">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc">
      
        <li class="md-nav__item">
  <a href="#cycle-de-vie-maven" class="md-nav__link">
    <span class="md-ellipsis">
      Cycle de vie Maven
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cycle de vie Maven">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#construction-en-appelant-des-phases-du-cycle-de-vie" class="md-nav__link">
    <span class="md-ellipsis">
      Construction en appelant des phases du cycle de vie
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Construction en appelant des phases du cycle de vie">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-vous-de-jouer" class="md-nav__link">
    <span class="md-ellipsis">
      À vous de jouer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scans-de-vulnerabilite" class="md-nav__link">
    <span class="md-ellipsis">
      Scans de vulnérabilité
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Scans de vulnérabilité">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#plugin-de-vulnerabilite-intellij" class="md-nav__link">
    <span class="md-ellipsis">
      Plugin de vulnérabilité IntelliJ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Plugin de vulnérabilité IntelliJ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-vous-de-jouer_1" class="md-nav__link">
    <span class="md-ellipsis">
      À vous de jouer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sideloading" class="md-nav__link">
    <span class="md-ellipsis">
      Sideloading
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sideloading">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sideloading-depuis-des-projets-maven" class="md-nav__link">
    <span class="md-ellipsis">
      Sideloading depuis des projets Maven
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sideloading depuis des projets Maven">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-vous-de-jouer_2" class="md-nav__link">
    <span class="md-ellipsis">
      À vous de jouer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sideloading-depuis-des-fichiers-jar-generiques" class="md-nav__link">
    <span class="md-ellipsis">
      Sideloading depuis des fichiers JAR génériques
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sideloading depuis des fichiers JAR génériques">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-vous-de-jouer_3" class="md-nav__link">
    <span class="md-ellipsis">
      À vous de jouer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#depots-tiers" class="md-nav__link">
    <span class="md-ellipsis">
      Dépôts tiers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dépôts tiers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#obtenir-une-dependance-depuis-un-depot-tiers" class="md-nav__link">
    <span class="md-ellipsis">
      Obtenir une dépendance depuis un dépôt tiers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Obtenir une dépendance depuis un dépôt tiers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-vous-de-jouer_4" class="md-nav__link">
    <span class="md-ellipsis">
      À vous de jouer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profils-de-construction" class="md-nav__link">
    <span class="md-ellipsis">
      Profils de construction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Profils de construction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lanceurs-alternatifs" class="md-nav__link">
    <span class="md-ellipsis">
      Lanceurs alternatifs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lanceurs alternatifs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-vous-de-jouer_5" class="md-nav__link">
    <span class="md-ellipsis">
      À vous de jouer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests-dintegration" class="md-nav__link">
    <span class="md-ellipsis">
      Tests d'intégration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tests d'intégration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mad-max" class="md-nav__link">
    <span class="md-ellipsis">
      Mad Max
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Mad Max">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-vous-de-jouer_6" class="md-nav__link">
    <span class="md-ellipsis">
      À vous de jouer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="atelier-09">Atelier 09</h1>
<p>Dans cette séance de laboratoire, vous allez vous entraîner aux 
concepts avancés des systèmes de construction, tels que les phases du 
cycle de vie de la construction, le sideloading des artefacts, et 
l'accès aux dépôts d'artefacts tiers.<br>
Vous travaillerez avec le code de XoxInternals, qui est une 
implémentation complète du modèle et du contrôleur du jeu TicTacToe 
(reformulé sous le nom de Xox, pour les X et les O).<br>
Pour cloner les sources, utilisez : <code>git clone https://github.com/m5c/XoxInternals.git</code></p>
<h2 id="cycle-de-vie-maven">Cycle de vie Maven</h2>
<p>Maven possède trois cycles de vie intégrés, chacun composé de phases. Nous nous intéressons principalement au cycle de vie <code>default</code>, qui permet de construire des logiciels à partir des sources.</p>
<h3 id="construction-en-appelant-des-phases-du-cycle-de-vie">Construction en appelant des phases du cycle de vie</h3>
<ul>
<li>La commande maven attend toujours une phase du cycle de vie comme argument.</li>
<li>Pour chaque phase fournie, le <strong>cycle complet</strong> jusqu'à cette phase est exécuté.</li>
<li>Par exemple, la commande <code>mvn package</code> exécutera toutes les phases du cycle de vie <code>default</code> jusqu'à (et y compris) la phase <code>package</code>.</li>
</ul>
<h4 id="a-vous-de-jouer">À vous de jouer</h4>
<ul>
<li>Vous allez travailler avec un <strong>nouveau</strong> projet <code>XoxFrontend</code>, qui appellera certaines des fonctionnalités fournies par le projet cloné <code>XoxInternals</code>.<ul>
<li>Il est cependant important de noter que nous voulons connecter ces deux projets à l'aide de Maven, <strong>et NON</strong> en copiant-collant du code d'un projet à l'autre.</li>
</ul>
</li>
<li>Pour commencer, initialisez un nouveau dépôt, appelé <code>XoxFrontend</code>, en utilisant la commande d'archétype Maven :</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>mvn<span class="w"> </span>archetype:generate<span class="w"> </span>\
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>-DgroupId=ca.uqam.info<span class="w"> </span>\
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>-DartifactId=XoxFrontend<span class="w"> </span>\
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>-DarchetypeArtifactId=maven-archetype-quickstart<span class="w"> </span>\
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>-DinteractiveMode=false
</code></pre></div>
<blockquote>
<p>If you're on windows, type the command in a single line, and omit the antislashes.</p>
</blockquote>
<ul>
<li>The command will produce a new maven project of the following structure:
  <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>XoxFrontend/
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>├──<span class="w"> </span>pom.xml
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>└──<span class="w"> </span>src
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">    </span>├──<span class="w"> </span>main
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">    </span>│<span class="w">&nbsp;&nbsp; </span>└──<span class="w"> </span>java
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">    </span>│<span class="w">&nbsp;&nbsp;     </span>└──<span class="w"> </span>ca
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">    </span>│<span class="w">&nbsp;&nbsp;         </span>└──<span class="w"> </span>uqam
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">    </span>│<span class="w">&nbsp;&nbsp;             </span>└──<span class="w"> </span>info
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">    </span>│<span class="w">&nbsp;&nbsp;                 </span>└──<span class="w"> </span>App.java
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">    </span>└──<span class="w"> </span><span class="nb">test</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="w">        </span>└──<span class="w"> </span>java
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="w">            </span>└──<span class="w"> </span>ca
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="w">                </span>└──<span class="w"> </span>uqam
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="w">                    </span>└──<span class="w"> </span>info
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="w">                        </span>└──<span class="w"> </span>AppTest.java
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a><span class="m">12</span><span class="w"> </span>directories,<span class="w"> </span><span class="m">3</span><span class="w"> </span>files
</code></pre></div></li>
<li>Ensuite, construisez le projet. Faites-le en appelant la phase du cycle de vie <code>default</code> de Maven qui ne traduit que les fichiers Java en fichiers de classe, sans produire de fichier JAR.<ul>
<li>Inspectez le dossier <code>target</code>. Vérifiez qu'il y a des fichiers <code>class</code>, mais pas de fichier <code>jar</code>.</li>
</ul>
</li>
<li>Construisez le projet en appelant la phase du cycle de vie <code>default</code> de Maven qui fait la même chose que précédemment, mais produit également un fichier <code>jar</code>.<ul>
<li>Inspectez le dossier <code>target</code>. Vérifiez qu'il y a des fichiers <code>class</code>, ainsi qu'un fichier <code>jar</code>.</li>
</ul>
</li>
</ul>
<h2 id="scans-de-vulnerabilite">Scans de vulnérabilité</h2>
<ul>
<li>Chaque dépendance d'un projet est une responsabilité potentielle. 
Toute vulnérabilité incluse dans l'une de vos dépendances constitue 
également un risque pour la sécurité de votre propre projet.</li>
<li>Heureusement, les fichiers <code>pom.xml</code> sont une forme 
explicite de déclaration des dépendances, ce qui permet de détecter 
facilement les vulnérabilités potentielles en inspectant le fichier <code>pom.xml</code>.</li>
<li>La recherche (et la correction) des dépendances vulnérables est appelée <em>scan de vulnérabilité</em>.</li>
</ul>
<h3 id="plugin-de-vulnerabilite-intellij">Plugin de vulnérabilité IntelliJ</h3>
<ul>
<li>IntelliJ dispose d'un plugin activé par défaut appelé : <a href="https://www.jetbrains.com/guide/java/tutorials/package-checker/">Package Checker</a></li>
<li>En classe, vous avez vu une courte démo sur l'utilisation de l'outil.<ul>
<li>Lorsque le fichier <code>pom.xml</code> est ouvert, les dépendances vulnérables sont surlignées avec un fond différent.</li>
<li>En survolant les zones surlignées, des informations supplémentaires 
apparaissent sur la cause de la vulnérabilité (et sur la façon de la 
corriger).</li>
</ul>
</li>
</ul>
<h4 id="a-vous-de-jouer_1">À vous de jouer</h4>
<ul>
<li>Ouvrez votre projet <code>XoxFrontend</code> dans IntelliJ.<ul>
<li>Double-cliquez sur le fichier <code>pom.xml</code>.</li>
<li>Inspectez attentivement la couleur de fond de toutes les lignes. 
Vous verrez certaines lignes mises en surbrillance par le plugin <a href="https://www.jetbrains.com/guide/java/tutorials/package-checker/">Package Checker</a>.</li>
<li>Survolez une ligne surlignée. Attendez une seconde, une fenêtre contextuelle apparaîtra.</li>
</ul>
</li>
<li>Lisez attentivement le message, il vous expliquera comment corriger la vulnérabilité présente dans votre projet.</li>
<li>Corrigez la vulnérabilité et assurez-vous que votre projet peut toujours être construit.</li>
</ul>
<h2 id="sideloading">Sideloading</h2>
<ul>
<li>Le sideloading fait référence à "<em>contourner</em>" l'algorithme de résolution des dépendances de Maven en injectant artificiellement un artefact directement dans le dépôt local <code>.m2</code>.</li>
<li>Cette technique permet d'utiliser des dépendances qui n'existent pas
 dans le dépôt officiel Maven en ligne, et qui ne pourraient donc pas 
être résolues automatiquement par Maven.</li>
<li>L'astuce repose sur le fait que Maven ne cherchera jamais un artefact en ligne une fois qu'il a été trouvé dans le dépôt local.</li>
</ul>
<p>Exemple :</p>
<ul>
<li><code>XoxFrontend</code> aura besoin de fonctionnalités provenant du projet cloné <code>XoxInternals</code>.<ul>
<li>Dans ce cas, <code>XoxFrontend</code> peut déclarer une <code>&lt;dependency&gt;</code> dans son fichier <code>pom.xml</code> :
    <div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nt">&lt;dependency&gt;</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">    </span><span class="nt">&lt;groupId&gt;</span>ca.uqam<span class="nt">&lt;/groupId&gt;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>xoxinternals<span class="nt">&lt;/artifactId&gt;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">    </span><span class="nt">&lt;version&gt;</span>1.7<span class="nt">&lt;/version&gt;</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></li>
<li>Si nous sideloadons <code>XoxInternals</code> dans le cache local <code>.m2</code>, la dépendance sera directement :</li>
<li>Maven n'a pas besoin de chercher l'artefact sur le serveur en ligne (nous l'avons injecté nous-mêmes).</li>
<li><code>XoxFrontend</code> peut utiliser le code de la bibliothèque <strong>sans duplication de code</strong>.</li>
</ul>
</li>
</ul>
<p>Il existe différentes manières d'ajouter des artefacts au cache local <code>.m2</code>.</p>
<div class="admonition warning">
<p class="admonition-title">Ne copiez pas le code !</p>
<p>Ne copiez pas de code depuis le projet cloné <code>XoxInternals</code>. L'objectif est d'utiliser le code de <code>XoxInternals</code> en tant que dépendance Maven, et non par duplication de code.</p>
</div>
<h3 id="sideloading-depuis-des-projets-maven">Sideloading depuis des projets Maven</h3>
<ul>
<li>La forme la plus simple de sideloading se produit lorsque la dépendance en question est elle-même un projet Maven.</li>
<li>Heureusement, c'est le cas. <code>XoxInternals</code> possède un fichier <code>pom.xml</code>, et c'est un projet Maven.</li>
<li>Dans ce cas, la phase <code>install</code> peut être utilisée non seulement pour construire un artefact, mais aussi pour l'ajouter au cache local.</li>
</ul>
<h4 id="a-vous-de-jouer_2">À vous de jouer</h4>
<ul>
<li>Ajoutez le bloc <code>dependency</code> ci-dessus dans le fichier <code>pom.xml</code> de <code>XoxFrontend</code>.<ul>
<li>Il apparaîtra en rouge. La dépendance ne peut pas être résolue, car 
aucun artefact de ce type n'est disponible sur les serveurs Maven 
officiels.</li>
</ul>
</li>
<li>Ensuite : Inspectez votre répertoire local <code>.m2</code>. Il peut
 être caché sur votre système. S'il n'est pas visible dans le 
gestionnaire de fichiers, ouvrez un terminal et accédez au répertoire 
caché <code>.m2</code> dans votre dossier personnel.<ul>
<li>Inspectez le contenu et vérifiez qu'il <strong>n'y a pas</strong> d'artefact <code>ca/uqam/info/xoxinternals</code>.</li>
</ul>
</li>
<li>Construisez le projet <code>XoxInternals</code> cloné précédemment en utilisant la phase <code>install</code>.</li>
<li>Inspectez à nouveau votre cache local <code>.m2</code>. Vous devriez maintenant voir un nouvel artefact dans <code>ca/uqam/info/xoxinternals</code>.</li>
<li>Revenez au fichier <code>pom.xml</code> de <code>XoxFrontend</code>, la dépendance ne devrait plus apparaître en rouge, mais être correctement résolue.</li>
</ul>
<p>Ensuite, nous voulons vérifier si nous pouvons réellement utiliser le code de la dépendance correctement résolue :</p>
<ul>
<li>Ajoutez un nouveau lanceur au projet <code>XoxFrontend</code> qui <strong>utilise</strong> des fonctionnalités du projet <code>XoxInternals</code>.</li>
<li>Utilisez le code ci-dessous pour initialiser une nouvelle instance de jeu entre <code>Alice</code> et <code>Bob</code> :
  <div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">XoxAliceAndBob</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="n">gameId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">XoxGameInitiator</span><span class="p">.</span><span class="na">createNewGame</span><span class="p">(</span><span class="s">"Alice"</span><span class="p">,</span><span class="w"> </span><span class="s">"Bob"</span><span class="p">);</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">    </span><span class="c1">// Prints actions for alice.</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">    </span><span class="n">XoxBoardAndActionPrinter</span><span class="p">.</span><span class="na">printBoardAndActionsForPlayer</span><span class="p">(</span><span class="n">gameId</span><span class="p">,</span><span class="w"> </span><span class="s">"Alice"</span><span class="p">);</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="p">}</span>
</code></pre></div></li>
</ul>
<p>Pour les deux appels manquants, vous pouvez utiliser les classes d'aide ci-dessous :</p>
<ul>
<li><code>XoxGameInitiator.java</code>:
  <div class="highlight"><pre><span></span><code tabindex="0"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">XoxGameInitiator</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">  </span><span class="cm">/**</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="cm">   * Creates a new game instance for the given player names.</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="cm">   *</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="cm">   * @param playerName1 name of first player.</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="cm">   * @param playerName2 name of second player.</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="cm">   * @return long value of a unique game ID, that can be used to interact with game instance via</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="cm">   * manager.</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="cm">   */</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="nf">createNewGame</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">playerName1</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">playerName2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w">    </span><span class="n">Player</span><span class="w"> </span><span class="n">player1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Player</span><span class="p">(</span><span class="n">playerName1</span><span class="p">,</span><span class="w"> </span><span class="s">"#0000FF"</span><span class="p">);</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">    </span><span class="n">Player</span><span class="w"> </span><span class="n">player2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Player</span><span class="p">(</span><span class="n">playerName2</span><span class="p">,</span><span class="w"> </span><span class="s">"#00FF00"</span><span class="p">);</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Player</span><span class="o">&gt;</span><span class="w"> </span><span class="n">playerList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LinkedList</span><span class="o">&lt;</span><span class="n">Player</span><span class="o">&gt;</span><span class="p">();</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="w">    </span><span class="n">playerList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">player1</span><span class="p">);</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="w">    </span><span class="n">playerList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">player2</span><span class="p">);</span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="w">    </span><span class="n">XoxInitSettings</span><span class="w"> </span><span class="n">xoxSettings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">XoxInitSettings</span><span class="p">(</span><span class="n">playerList</span><span class="p">,</span><span class="w"> </span><span class="n">playerName1</span><span class="p">);</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">XoxManagerImpl</span><span class="p">.</span><span class="na">getInstance</span><span class="p">().</span><span class="na">addGame</span><span class="p">(</span><span class="n">xoxSettings</span><span class="p">);</span>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="p">}</span>
</code></pre></div></li>
<li><code>XoxBoardAndActionPrinter.java</code>:
  <div class="highlight"><pre><span></span><code tabindex="0"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">XoxBoardAndActionPrinter</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">printBoardAndActionsForPlayer</span><span class="p">(</span><span class="kt">long</span><span class="w"> </span><span class="n">gameId</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">XoxManagerImpl</span><span class="p">.</span><span class="na">getInstance</span><span class="p">().</span><span class="na">getBoard</span><span class="p">(</span><span class="n">gameId</span><span class="p">));</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">    </span><span class="c1">// Print all possible actions for Alice</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">    </span><span class="n">XoxClaimFieldAction</span><span class="o">[]</span><span class="w"> </span><span class="n">actions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">XoxManagerImpl</span><span class="p">.</span><span class="na">getInstance</span><span class="p">().</span><span class="na">getActions</span><span class="p">(</span><span class="n">gameId</span><span class="p">,</span><span class="w"> </span><span class="n">player</span><span class="p">);</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">actions</span><span class="p">.</span><span class="na">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">      </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">actions</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">);</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="p">}</span>
</code></pre></div></li>
</ul>
<p>Configurez le plugin maven exec dans votre fichier <code>pom.xml</code> et assurez-vous de pouvoir compiler et exécuter votre <code>XoxFrontend</code> avec :<br>
<code>mvn clean compile exec:java</code></p>
<h3 id="sideloading-depuis-des-fichiers-jar-generiques">Sideloading depuis des fichiers JAR génériques</h3>
<ul>
<li>Il arrive souvent que la bibliothèque qui vous manque ne soit pas 
fournie sous forme de code source, mais que vous n'ayez qu'un fichier 
JAR.<ul>
<li>Il est possible que la bibliothèque ne soit même pas un projet Maven !</li>
</ul>
</li>
<li>Il est néanmoins possible de sideloader directement à partir d'un fichier JAR, directement dans le cache du dépôt local <code>.m2</code>.</li>
<li>Dans le dernier cours, vous avez vu une commande Maven pour faire cela.</li>
</ul>
<h4 id="a-vous-de-jouer_3">À vous de jouer</h4>
<ol>
<li>Construisez le projet <code>XoxInternals</code> avec <code>mvn clean package</code>.</li>
<li>Copiez le fichier <code>jar</code> depuis le répertoire <code>target</code> vers votre bureau.</li>
<li>Supprimez le projet <code>XoxInternals</code> de votre disque dur, mais conservez le fichier <code>jar</code>.</li>
<li>Supprimez l'artefact <code>XoxInternals</code> de votre cache local <code>.m2</code>.</li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Videz votre dépôt local !</p>
<p>Les étapes ci-dessus sont importantes. À partir de l'exercice précédent, vous avez encore l'artefact <code>XoxInternals</code> dans votre dépôt local.</p>
</div>
<blockquote>
<p>À ce stade, le projet <code>XoxFrontend</code> ne fonctionnera plus, car nous avons supprimé manuellement les dépendances du projet <code>XoxInternals</code>.</p>
</blockquote>
<ol>
<li>
<p>En utilisant uniquement le fichier <code>jar</code> sauvegardé, utilisez la commande Maven vue en classe pour installer directement un artefact depuis un fichier <code>jar</code>.</p>
</li>
<li>
<p>Assurez-vous d'utiliser le bon <code>groupId</code>, <code>artifactId</code> et <code>version</code>, afin que la dépendance puisse être correctement résolue.</p>
</li>
<li>
<p>Vérifiez le contenu de votre répertoire <code>.m2</code> local et assurez-vous que vous pouvez désormais reconstruire et exécuter l'application <code>XoxFrontend</code>.</p>
</li>
</ol>
<h2 id="depots-tiers">Dépôts tiers</h2>
<p>Les dépôts tiers sont des dossiers en ligne fournissant des artefacts
 Maven non officiels. Il existe plusieurs raisons de placer des 
artefacts dans des dépôts tiers, notamment les restrictions d'accès et 
la possibilité de révoquer l'accès.</p>
<h3 id="obtenir-une-dependance-depuis-un-depot-tiers">Obtenir une dépendance depuis un dépôt tiers</h3>
<ul>
<li>Au lieu de sideloader manuellement l'artefact <code>XoxInternals</code>, il est préférable de récupérer l'artefact depuis un dépôt tiers non officiel.</li>
<li>Rappel : l'algorithme de résolution de Maven est :<ol>
<li>D'abord, chercher dans le cache local pour une correspondance (répertoire local <code>.m2</code>).</li>
<li>En dernier recours : chercher dans les dépôts tiers (s'ils sont définis).</li>
<li>En dernier recours : chercher sur les serveurs Maven officiels.</li>
</ol>
</li>
<li>Le sideloading cible la première étape. Les dépôts tiers ciblent la deuxième étape.</li>
</ul>
<p>Dans l'exercice suivant, vous allez utiliser un dépôt tiers, au lieu de sideloader manuellement un artefact.</p>
<h4 id="a-vous-de-jouer_4">À vous de jouer</h4>
<ul>
<li>Supprimez l'artefact <code>Xox</code> sideloadé de votre répertoire local <code>~/.m2/repository/</code>.</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Videz votre dépôt local !</p>
<p>Les étapes ci-dessus sont importantes. À partir de l'exercice précédent, vous avez encore l'artefact <code>XoxInternals</code> dans votre dépôt local. Si vous ne le supprimez pas, Maven s'arrêtera à l'étape <code>1</code> et ne cherchera jamais l'artefact en ligne.</p>
</div>
<ul>
<li>Essayez de compiler votre projet <code>XoxFrontend</code>. Cela échouera, car <code>XoxInternals</code> ne pourra plus être résolu.</li>
<li>Accédez au fichier <code>pom.xml</code> de votre projet <code>XoxFrontend</code> et ajoutez une référence au dépôt <code>inf2050</code> (qui est un dépôt Maven non officiel créé spécifiquement pour ce cours) :
    <div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nt">&lt;repositories&gt;</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">    </span><span class="nt">&lt;repository&gt;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">        </span><span class="nt">&lt;id&gt;</span>Max's<span class="w"> </span>third<span class="w"> </span>party<span class="w"> </span>repo<span class="w"> </span>on<span class="w"> </span>a<span class="w"> </span>UQAM<span class="w"> </span>GitLab<span class="w"> </span>file<span class="w"> </span>server<span class="nt">&lt;/id&gt;</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">        </span><span class="nt">&lt;url&gt;</span>https://max.pages.info.uqam.ca/inf2050repo/<span class="nt">&lt;/url&gt;</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">    </span><span class="nt">&lt;/repository&gt;</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="nt">&lt;/repositories&gt;</span>
</code></pre></div></li>
<li>Compilez à nouveau votre projet avec : <code>mvn clean test</code>.</li>
<li>Inspectez attentivement la sortie.<ul>
<li>Trouvez la ligne de sortie indiquant que l'artefact manquant a été téléchargé depuis le serveur tiers.</li>
<li>Vérifiez que la construction a à nouveau réussi.</li>
</ul>
</li>
</ul>
<details class="question">
<summary>Pourquoi y a-t-il soudainement à nouveau une copie de <code>XoxInternals</code> dans votre cache local ?</summary>
<p>Maven met toujours en cache les artefacts localement, une fois qu'ils
 ont été récupérés avec succès. Sinon, vous ne pourriez jamais 
travailler hors ligne.</p>
</details>
<h2 id="profils-de-construction">Profils de construction</h2>
<ul>
<li>Les profils de construction permettent de développer différentes 
versions d'une application, en spécifiant simplement un nom de profil 
avec la commande Maven standard.</li>
<li>La syntaxe est <code>-P</code> (pour <strong>p</strong>rofile), directement suivie du nom du profil.<ul>
<li>Notez qu'il n'y a pas d'espace entre le switch <code>-P</code> et le nom du profil.</li>
<li>Exemple : mvn clean package <code>-Ppremium-software-version</code></li>
</ul>
</li>
</ul>
<h3 id="lanceurs-alternatifs">Lanceurs alternatifs</h3>
<ul>
<li>Un cas d'utilisation des profils de construction est la spécification de lanceurs alternatifs.</li>
<li>De cette façon, différentes fonctionnalités d'un logiciel peuvent 
être lancées, ou différents paramètres codés en dur peuvent être 
utilisés.</li>
</ul>
<h4 id="a-vous-de-jouer_5">À vous de jouer</h4>
<ul>
<li>Revisez la syntaxe des profils de construction présentée lors du dernier cours et modifiez votre projet <code>XoxFrontend</code> pour contenir deux classes de lancement :<ul>
<li>Pour le premier lanceur, vous pouvez réutiliser celui que vous avez 
codé pour Alice et Bob, plus tôt dans cette session de laboratoire.</li>
<li>Un deuxième lanceur, pour initialiser une partie entre les joueurs <code>Eve</code> et <code>Bob</code>.
    <div class="highlight"><pre><span></span><code tabindex="0"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">XoxEveAndBob</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="n">gameId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">XoxGameInitiator</span><span class="p">.</span><span class="na">createNewGame</span><span class="p">(</span><span class="s">"Eve"</span><span class="p">,</span><span class="w"> </span><span class="s">"Bob"</span><span class="p">);</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">    </span><span class="c1">// prints nothing! Alice is not participating in match.</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">    </span><span class="n">XoxBoardAndActionPrinter</span><span class="p">.</span><span class="na">printBoardAndActionsForPlayer</span><span class="p">(</span><span class="n">gameId</span><span class="p">,</span><span class="w"> </span><span class="s">"Alice"</span><span class="p">);</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="p">}</span>
</code></pre></div></li>
</ul>
</li>
<li>Modifiez le fichier <code>pom.xml</code> du projet <code>XoxFrontend</code> afin que deux nouveaux profils de construction soient définis :<ul>
<li><code>alice-and-bob</code> comme profil par défaut.</li>
<li><code>eve-and-bob</code> comme profil alternatif.</li>
</ul>
</li>
<li>Pour <strong>chaque</strong> profil de construction, ajoutez une configuration du plugin <code>exec</code>, en vous assurant que :<ul>
<li>Le profil <code>alice-and-bob</code> lance la classe Java originale <code>XoxAliceAndBob</code>.</li>
<li>Le profil <code>eve-and-bob</code> lance la nouvelle classe Java <code>XoxEveAndBob</code> créée.</li>
</ul>
</li>
<li>Construisez et lancez les deux variantes en utilisant l'une des commandes suivantes :<ul>
<li><code>mvn clean compile exec:java</code></li>
<li><code>mvn clean compile exec:java -Palice-and-bob</code></li>
<li><code>mvn clean compile exec:java -Peve-and-bob</code></li>
</ul>
</li>
<li>Vérifiez que toutes les commandes affichent un tableau vide du jeu initialisé, mais que seul le profil <code>alice-and-bob</code> / <code>par défaut</code> affiche également une liste des actions des joueurs.</li>
</ul>
<h2 id="tests-dintegration">Tests d'intégration</h2>
<ul>
<li>Lors du dernier cours, vous avez appris que le cycle de vie par défaut de Maven définit deux phases de tests différentes :<ul>
<li><code>test</code> pour l'exécution des tests unitaires.</li>
<li><code>verify</code> pour l'exécution des tests d'intégration.</li>
</ul>
</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Tests unitaires vs Tests d'intégration</p>
<p>Les tests unitaires vérifient le comportement des classes ou des 
méthodes individuelles. Les tests d'intégration vérifient le 
comportement de l'interaction entre les composants, s'assurant que 
l'application dans son ensemble remplit correctement son objectif.</p>
</div>
<h3 id="mad-max">Mad Max</h3>
<p>Une façon de tester l'intégration des implémentations de jeu, par exemple le projet <code>XoxInternals</code>, est d'écrire des joueurs robots (ou, si vous voulez utiliser un langage à la mode, des "IA").</p>
<ul>
<li>Alors que les tests unitaires vérifient les fonctions individuelles 
du jeu, les joueurs robots tentent de jouer au jeu et vérifient ainsi 
s'il fonctionne de manière fiable.</li>
<li>La façon la plus simple de tester cela est avec le joueur robot "Mad Max".<ul>
<li>Mad Max utilise un générateur aléatoire pour choisir une action au hasard, chaque fois que c'est à son tour de jouer.</li>
<li>Deux instances concurrentes de Mad Max doivent finir par manœuvrer le jeu jusqu'à un état de fin de partie.</li>
<li>Le test d'intégration est réussi si la partie se termine sans erreur dans les 5 secondes du processeur.</li>
</ul>
</li>
<li>Un générateur de nombres aléatoires avec une graine fixée peut être 
utilisé pour garantir des chemins d'exécution déterministes des joueurs 
robots.</li>
<li>Pour des tests avancés, <code>1000</code> instances de jeu peuvent 
être testées, chacune avec une graine individuelle (par exemple, une 
valeur de graine incrémentée comme <code>1</code>, <code>2</code>, <code>3</code>, <code>...</code>).</li>
</ul>
<p>Les tests d'intégration sont également des tests, et doivent donc être placés dans la structure de dossiers <code>src/test/java</code>.</p>
<ul>
<li>Pour distinguer les tests unitaires standards (qui doivent être exécutés lors de la phase <code>test</code>) des tests d'intégration (qui doivent être exécutés lors de la phase <code>verify</code>), une syntaxe de nom de fichier spéciale peut être utilisée.</li>
<li>Les tests d'intégration doivent se terminer par <code>...IT.java</code>.</li>
<li>Une configuration supplémentaire dans le fichier <code>pom.xml</code> pour le plugin de test permet de séparer l'exécution en fonction du nom du fichier :
  <div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nt">&lt;project&gt;</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">  </span>...
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">  </span><span class="nt">&lt;build&gt;</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">    </span><span class="nt">&lt;plugins&gt;</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">      </span><span class="nt">&lt;plugin&gt;</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">        </span><span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w">        </span><span class="nt">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="nt">&lt;/artifactId&gt;</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="w">        </span><span class="nt">&lt;version&gt;</span>3.5.2<span class="nt">&lt;/version&gt;</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="w">        </span><span class="nt">&lt;configuration&gt;</span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="w">          </span><span class="nt">&lt;excludes&gt;</span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="w">            </span><span class="nt">&lt;exclude&gt;</span>**/*IT.java<span class="nt">&lt;/exclude&gt;</span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="w">          </span><span class="nt">&lt;/excludes&gt;</span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="w">        </span><span class="nt">&lt;/configuration&gt;</span>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="w">        </span><span class="nt">&lt;executions&gt;</span>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="w">          </span><span class="nt">&lt;execution&gt;</span>
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="w">            </span><span class="nt">&lt;id&gt;</span>integration-test<span class="nt">&lt;/id&gt;</span>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="w">            </span><span class="nt">&lt;goals&gt;</span>
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a><span class="w">              </span><span class="nt">&lt;goal&gt;</span>test<span class="nt">&lt;/goal&gt;</span>
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a><span class="w">            </span><span class="nt">&lt;/goals&gt;</span>
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a><span class="w">            </span><span class="nt">&lt;phase&gt;</span>integration-test<span class="nt">&lt;/phase&gt;</span>
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a><span class="w">            </span><span class="nt">&lt;configuration&gt;</span>
<a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a><span class="w">              </span><span class="nt">&lt;excludes&gt;</span>
<a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a><span class="w">                </span><span class="nt">&lt;exclude&gt;</span>none<span class="nt">&lt;/exclude&gt;</span>
<a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a><span class="w">              </span><span class="nt">&lt;/excludes&gt;</span>
<a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a><span class="w">              </span><span class="nt">&lt;includes&gt;</span>
<a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a><span class="w">                </span><span class="nt">&lt;include&gt;</span>**/*IT.java<span class="nt">&lt;/include&gt;</span>
<a id="__codelineno-8-27" name="__codelineno-8-27" href="#__codelineno-8-27"></a><span class="w">              </span><span class="nt">&lt;/includes&gt;</span>
<a id="__codelineno-8-28" name="__codelineno-8-28" href="#__codelineno-8-28"></a><span class="w">            </span><span class="nt">&lt;/configuration&gt;</span>
<a id="__codelineno-8-29" name="__codelineno-8-29" href="#__codelineno-8-29"></a><span class="w">          </span><span class="nt">&lt;/execution&gt;</span>
<a id="__codelineno-8-30" name="__codelineno-8-30" href="#__codelineno-8-30"></a><span class="w">        </span><span class="nt">&lt;/executions&gt;</span>
<a id="__codelineno-8-31" name="__codelineno-8-31" href="#__codelineno-8-31"></a><span class="w">      </span><span class="nt">&lt;/plugin&gt;</span>
<a id="__codelineno-8-32" name="__codelineno-8-32" href="#__codelineno-8-32"></a><span class="w">    </span><span class="nt">&lt;/plugins&gt;</span>
<a id="__codelineno-8-33" name="__codelineno-8-33" href="#__codelineno-8-33"></a><span class="w">  </span><span class="nt">&lt;/build&gt;</span>
<a id="__codelineno-8-34" name="__codelineno-8-34" href="#__codelineno-8-34"></a><span class="nt">&lt;/project&gt;</span>
</code></pre></div></li>
</ul>
<h4 id="a-vous-de-jouer_6">À vous de jouer</h4>
<ol>
<li>Ajoutez le plugin <code>maven-surefire-plugin</code> ci-dessus à votre projet <code>XoxFrontend</code>.</li>
<li>Créez une nouvelle classe de test <code>MadMaxIT.java</code>.</li>
<li>Dans <code>MadMaxIT</code>, créez une fonction décorée avec <code>@Test</code> qui exécute 1000 parties différentes de Xox avec deux joueurs robots MadMax en compétition.</li>
<li>
<p>Vérifiez que les tests d'intégration passent à travers les 1000 instances de jeu sans planter.</p>
</li>
<li>
<p><code>mvn clean test</code> <strong>ne doit pas</strong> exécuter les tests d'intégration.</p>
</li>
<li><code>mvn clean verify</code> <strong>doit</strong> exécuter les tests d'intégration.</li>
</ol>
<p>Vous pouvez utiliser les morceaux de code ci-dessous pour implémenter la fonctionnalité demandée :</p>
<div class="highlight"><pre><span></span><code tabindex="0"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="w">  </span><span class="cm">/**</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="cm"> * Provides a random number between 0 and the provided value (exclusive).</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="cm"> *</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="cm"> * @param upperBoundExcluded as the maximum value that is guaranteed not to be reached.</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="cm"> */</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">pickRandomAction</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">upperBoundExcluded</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">randomNumberGenerator</span><span class="p">.</span><span class="na">nextInt</span><span class="p">())</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">upperBoundExcluded</span><span class="p">;</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="p">}</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="cm">/**</span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="cm"> * Initialize seeded random number generator. Each game test-run of two competing MadMax players</span>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="cm"> * should use a different seed.</span>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="cm"> */</span>
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">initializeRandomNumberGenerator</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">seed</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="w">  </span><span class="c1">// For seed 42, will always generate:</span>
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="w">  </span><span class="c1">// -1170105035 234785527 -1360544799 205897768 ...</span>
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="w">  </span><span class="n">randomNumberGenerator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Random</span><span class="p">(</span><span class="n">seed</span><span class="p">);</span>
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="p">}</span>
<a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a>
<a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="cm">/**</span>
<a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a><span class="cm"> * The integration test creates 1000 test games and verifies that each of them is successfully</span>
<a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a><span class="cm"> * finished by two competing MadMax robot players. Every game uses a different random generator</span>
<a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a><span class="cm"> * seed.</span>
<a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a><span class="cm"> */</span>
<a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a><span class="nd">@Test</span>
<a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">madMax</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a><span class="w">  </span><span class="c1">// Run 1000 random games. All must conclude in valid game ending</span>
<a id="__codelineno-9-28" name="__codelineno-9-28" href="#__codelineno-9-28"></a><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-29" name="__codelineno-9-29" href="#__codelineno-9-29"></a><span class="w">    </span><span class="n">runSeededRandomGame</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<a id="__codelineno-9-30" name="__codelineno-9-30" href="#__codelineno-9-30"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-9-31" name="__codelineno-9-31" href="#__codelineno-9-31"></a><span class="p">}</span>
<a id="__codelineno-9-32" name="__codelineno-9-32" href="#__codelineno-9-32"></a>
<a id="__codelineno-9-33" name="__codelineno-9-33" href="#__codelineno-9-33"></a><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">runSeededRandomGame</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">seed</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-34" name="__codelineno-9-34" href="#__codelineno-9-34"></a><span class="w">  </span><span class="c1">// TODO: implement missing functionality to finish seeded game</span>
<a id="__codelineno-9-35" name="__codelineno-9-35" href="#__codelineno-9-35"></a><span class="w">  </span><span class="kt">long</span><span class="w"> </span><span class="n">gameId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">XoxGameInitiator</span><span class="p">.</span><span class="na">createNewGame</span><span class="p">(</span><span class="n">playerNames</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">playerNames</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="p">);</span>
<a id="__codelineno-9-36" name="__codelineno-9-36" href="#__codelineno-9-36"></a><span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">gameOver</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-37" name="__codelineno-9-37" href="#__codelineno-9-37"></a><span class="w">    </span><span class="c1">// select a random move for the current player</span>
<a id="__codelineno-9-38" name="__codelineno-9-38" href="#__codelineno-9-38"></a><span class="w">    </span><span class="n">XoxClaimFieldAction</span><span class="o">[]</span><span class="w"> </span><span class="n">allPossibleActions</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-9-39" name="__codelineno-9-39" href="#__codelineno-9-39"></a><span class="w">        </span><span class="n">gameManager</span><span class="p">.</span><span class="na">getActions</span><span class="p">(</span><span class="n">gameId</span><span class="p">,</span><span class="w"> </span><span class="n">playerNames</span><span class="o">[</span><span class="n">currentPlayer</span><span class="o">]</span><span class="p">);</span>
<a id="__codelineno-9-40" name="__codelineno-9-40" href="#__codelineno-9-40"></a><span class="w">    </span><span class="c1">// pick and play the random move</span>
<a id="__codelineno-9-41" name="__codelineno-9-41" href="#__codelineno-9-41"></a><span class="w">    </span><span class="n">gameManager</span><span class="p">.</span><span class="na">performAction</span><span class="p">(</span><span class="n">gameId</span><span class="p">,</span><span class="w"> </span><span class="n">playerNames</span><span class="o">[</span><span class="n">currentPlayer</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">randomAction</span><span class="p">);</span>
<a id="__codelineno-9-42" name="__codelineno-9-42" href="#__codelineno-9-42"></a><span class="w">    </span><span class="c1">// advance current player and update game over status</span>
<a id="__codelineno-9-43" name="__codelineno-9-43" href="#__codelineno-9-43"></a><span class="w">    </span><span class="n">gameOver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gameManager</span><span class="p">.</span><span class="na">getRanking</span><span class="p">(</span><span class="n">gameId</span><span class="p">).</span><span class="na">isGameOver</span><span class="p">();</span>
<a id="__codelineno-9-44" name="__codelineno-9-44" href="#__codelineno-9-44"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-9-45" name="__codelineno-9-45" href="#__codelineno-9-45"></a><span class="p">}</span>
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.footer"], "search": "assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}}</script>
    
    
      <script src="atelier09_files/bundle.fe8b6f2b.min.js"></script>
      
        <script src="atelier09_files/extra.js"></script>
      
    
  
</body></html>